{
	"info": {
		"_postman_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
		"name": "User Service API",
		"description": "Complete API collection for testing the User Service endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "12345678"
	},
	"item": [
		{
			"name": "Health Checks",
			"item": [
				{
					"name": "Liveness Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						},
						"description": "Check if the service is alive"
					},
					"response": []
				},
				{
					"name": "Readiness Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/ready",
							"host": ["{{base_url}}"],
							"path": ["ready"]
						},
						"description": "Check if the service is ready to handle requests"
					},
					"response": []
				}
			],
			"description": "Health check endpoints for service monitoring"
		},
		{
			"name": "Access Levels",
			"item": [
				{
					"name": "Create Access Level",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"access_level_id\", jsonData.id);",
									"    pm.test(\"Access level created successfully\", function () {",
									"        pm.response.to.have.status(201);",
									"    });",
									"    pm.test(\"Response has id\", function () {",
									"        pm.expect(jsonData).to.have.property('id');",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Admin\",\n    \"description\": \"Administrator access level with full permissions\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/access-levels",
							"host": ["{{base_url}}"],
							"path": ["access-levels"]
						},
						"description": "Create a new access level"
					},
					"response": []
				},
				{
					"name": "Create Access Level - User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"access_level_id_user\", jsonData.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"User\",\n    \"description\": \"Standard user access level\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/access-levels",
							"host": ["{{base_url}}"],
							"path": ["access-levels"]
						},
						"description": "Create another access level for testing"
					},
					"response": []
				},
				{
					"name": "Get Access Level",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/access-levels/{{access_level_id}}",
							"host": ["{{base_url}}"],
							"path": ["access-levels", "{{access_level_id}}"]
						},
						"description": "Get a specific access level by ID"
					},
					"response": []
				},
				{
					"name": "List Access Levels",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/access-levels",
							"host": ["{{base_url}}"],
							"path": ["access-levels"]
						},
						"description": "Get all access levels"
					},
					"response": []
				}
			],
			"description": "Access level management endpoints"
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Create User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"user_id\", jsonData.id);",
									"    pm.test(\"User created successfully\", function () {",
									"        pm.response.to.have.status(201);",
									"    });",
									"    pm.test(\"Response has user id\", function () {",
									"        pm.expect(jsonData).to.have.property('id');",
									"    });",
									"    pm.test(\"Response has email\", function () {",
									"        pm.expect(jsonData.email).to.eql('john.doe@example.com');",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"phone_number\": \"+1234567890\",\n    \"password\": \"SecurePass123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": ["{{base_url}}"],
							"path": ["users"]
						},
						"description": "Create a new user with all required fields"
					},
					"response": []
				},
				{
					"name": "Create User - Without Phone",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Jane\",\n    \"last_name\": \"Smith\",\n    \"email\": \"jane.smith@example.com\",\n    \"password\": \"AnotherPass456!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": ["{{base_url}}"],
							"path": ["users"]
						},
						"description": "Create a user without optional phone number"
					},
					"response": []
				},
				{
					"name": "Get User",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/{{user_id}}",
							"host": ["{{base_url}}"],
							"path": ["users", "{{user_id}}"]
						},
						"description": "Get a specific user by ID"
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"John\",\n    \"last_name\": \"Updated\",\n    \"phone_number\": \"+9876543210\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/{{user_id}}",
							"host": ["{{base_url}}"],
							"path": ["users", "{{user_id}}"]
						},
						"description": "Update user information (all fields are optional)"
					},
					"response": []
				},
				{
					"name": "List Users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users?page=1&page_size=10",
							"host": ["{{base_url}}"],
							"path": ["users"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "page_size",
									"value": "10",
									"description": "Number of items per page (default: 10)"
								}
							]
						},
						"description": "Get paginated list of all users"
					},
					"response": []
				},
				{
					"name": "Assign Access Levels",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"access_level_ids\": [{{access_level_id}}, {{access_level_id_user}}]\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/{{user_id}}/access-levels",
							"host": ["{{base_url}}"],
							"path": ["users", "{{user_id}}", "access-levels"]
						},
						"description": "Assign one or more access levels to a user"
					},
					"response": []
				},
				{
					"name": "Get User Access Levels",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/{{user_id}}/access-levels",
							"host": ["{{base_url}}"],
							"path": ["users", "{{user_id}}", "access-levels"]
						},
						"description": "Get all access levels assigned to a user"
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/{{user_id}}",
							"host": ["{{base_url}}"],
							"path": ["users", "{{user_id}}"]
						},
						"description": "Delete a user (soft delete)"
					},
					"response": []
				}
			],
			"description": "User management endpoints"
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login - Success",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"SecurePass123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						},
						"description": "Authenticate a user with email and password"
					},
					"response": []
				},
				{
					"name": "Login - Invalid Credentials",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"WrongPassword\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						},
						"description": "Test authentication with invalid password"
					},
					"response": []
				}
			],
			"description": "Authentication endpoints"
		},
		{
			"name": "Error Cases",
			"item": [
				{
					"name": "Create User - Invalid Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Test\",\n    \"last_name\": \"User\",\n    \"email\": \"invalid-email\",\n    \"password\": \"Pass1234!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": ["{{base_url}}"],
							"path": ["users"]
						},
						"description": "Test validation for invalid email format"
					},
					"response": []
				},
				{
					"name": "Create User - Short Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Test\",\n    \"last_name\": \"User\",\n    \"email\": \"test@example.com\",\n    \"password\": \"short\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": ["{{base_url}}"],
							"path": ["users"]
						},
						"description": "Test validation for password minimum length (8 characters)"
					},
					"response": []
				},
				{
					"name": "Get User - Invalid UUID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/invalid-uuid",
							"host": ["{{base_url}}"],
							"path": ["users", "invalid-uuid"]
						},
						"description": "Test error handling for invalid UUID format"
					},
					"response": []
				},
				{
					"name": "Get User - Not Found",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/00000000-0000-0000-0000-000000000000",
							"host": ["{{base_url}}"],
							"path": ["users", "00000000-0000-0000-0000-000000000000"]
						},
						"description": "Test error handling for non-existent user"
					},
					"response": []
				},
				{
					"name": "Assign Access Levels - Empty Array",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"access_level_ids\": []\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/{{user_id}}/access-levels",
							"host": ["{{base_url}}"],
							"path": ["users", "{{user_id}}", "access-levels"]
						},
						"description": "Test validation for empty access level array"
					},
					"response": []
				}
			],
			"description": "Test cases for error handling and validation"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		}
	]
}
